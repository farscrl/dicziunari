<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-grid class="ion-no-padding">
      <ion-row class="ion-no-padding" style="align-items: center;">
        <ion-col size="5">
          <ion-label>{{ "SEARCH.DE" | translate}}</ion-label>
        </ion-col>
        <ion-col size="2" style="text-align: center;">
          <ion-icon name="arrow-forward-outline" *ngIf="searchDirection === 'fromDe'" (click)="changeSearchDirection()"></ion-icon>
          <ion-icon name="arrow-back-outline" *ngIf="searchDirection === 'fromRm'" (click)="changeSearchDirection()"></ion-icon>
          <ion-icon name="arrow-up-outline" *ngIf="searchDirection === 'both'" (click)="changeSearchDirection()"></ion-icon>
        </ion-col>
        <ion-col size="5">
          <ion-select (ionChange)="dictionaryChanged($event)" [value]="selectedDictionary">
            <ion-select-option value="rumgrischun">Rumantsch Grischun</ion-select-option>
            <ion-select-option value="sursilv">Sursilvan</ion-select-option>
            <ion-select-option value="sutsilv">Sutsilvan</ion-select-option>
            <ion-select-option value="surm">Surmiran</ion-select-option>
            <ion-select-option value="puter">Puter</ion-select-option>
            <ion-select-option value="vall">Vallader</ion-select-option>
          </ion-select>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar showCancelButton="focus" [(ngModel)]="lemma" (ngModelChange)="search()"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" *ngIf="pleds.length > 0">
  <ion-list>
    <ng-container *ngFor="let pled of pleds">
      <app-search-result [lemmaD]="pled.DStichwort" [lemmaR]="pled.RStichwort" [searchString]="lemma"></app-search-result>
    </ng-container>
  </ion-list>

  <ion-infinite-scroll threshold="500px" (ionInfinite)="loadMoreData()">
    <ion-infinite-scroll-content
      loadingSpinner="bubbles"
      loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>

<ion-content [fullscreen]="true" *ngIf="pleds.length === 0">
  <app-placeholder *ngIf="lemma === ''"></app-placeholder>
  <app-no-results *ngIf="lemma !== ''"></app-no-results>
</ion-content>
